---
title: "Strukturera Din TillvÃ¤xt"
description: "Omfattande styrdokument fÃ¶r InnerJourney-projektet, som tÃ¤cker vision, projektbeskrivning, arkitektur, utvecklingsprocess, databasstruktur och projekthantering."
slug: strukturera-din-tillvxt
sidebar_label: "Strukturera Din TillvÃ¤xt"
sidebar_position: 10
tags:
  - innerjourney
  - styrdokument
  - arkitektur
  - projektledning
  - firestore
---

# Strukturera Din TillvÃ¤xt ğŸ§­

Detta dokument samlar styrande information fÃ¶r InnerJourney-projektet, frÃ¥n den grundlÃ¤ggande visionen till tekniska detaljer och arbetsmetoder.

## VisionÃ¤r Grund: VarfÃ¶r Vi Finns ğŸŒ±

Detta avsnitt utgÃ¶r en levande grund fÃ¶r *Inner Journeys* vision, vÃ¤rderingar och vÃ¤g framÃ¥t, med rÃ¶tter i *Rising Beyond*.

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `2025-04-01-visionar-grund.md`)*

### Introduktion: Historien Bakom

FÃ¶r mÃ¥nga Ã¥r sedan satte sig tvÃ¥ vÃ¤nner, Joel Kvarnsmyr och Ulrika af Klint, ner med en gemensam lÃ¤ngtan: att skapa en vÃ¤rld dÃ¤r hjÃ¤rtats intelligens kunde Ã¶verbrygga splittring och vÃ¤cka en hÃ¥llbar framtid. Ur de samtalen fÃ¶ddes *Rising Beyond* â€“ en vision om empati, kÃ¤rlek och transformation som sprider sig som ringar pÃ¥ vattnet. ğŸ’§

Idag lever den drÃ¶mmen vidare i *Inner Journey*. Detta dokument, *VisionÃ¤r Grund*, Ã¤r vÃ¥r kompass â€“ en pÃ¥minnelse om varfÃ¶r vi gÃ¶r det hÃ¤r och hur vi vill forma framtiden.

### Vision: En VÃ¤rld av Enhet ğŸŒ

Vi ser en vÃ¤rld dÃ¤r:

*   â¤ï¸ MÃ¤nniskor lever frÃ¥n hjÃ¤rtats visdom och kÃ¤nner en djup samhÃ¶righet med varandra och planeten.
*   âœ¨ KÃ¤rlek och empati blir en viral kraft som driver hÃ¥llbar fÃ¶rÃ¤ndring.
*   ğŸ¤ Individer, organisationer och samhÃ¤llen blomstrar genom autenticitet och samarbete.

*Inner Journey* Ã¤r verktyget fÃ¶r att gÃ¶ra detta mÃ¶jligt â€“ en inre resa som skapar yttre vÃ¥gor.

### Syfte: Vad Vi StrÃ¤var Efter ğŸ¯

Vi finns fÃ¶r att:

*   ğŸ§  VÃ¤cka hjÃ¤rtats intelligens och medvetande hos mÃ¤nniskor Ã¶ver hela vÃ¤rlden.
*   ğŸ› ï¸ Erbjuda verktyg som gÃ¶r personlig och kollektiv transformation enkel, tillgÃ¤nglig och meningsfull.
*   ğŸŒ± Bygga broar mellan det inre och det yttre â€“ fÃ¶r en friskare planet och ett bÃ¤ttre liv fÃ¶r kommande generationer.

Med rÃ¶tterna i *Rising Beyond* strÃ¤var vi efter en radikal fÃ¶rÃ¤ndring som bÃ¶rjar i hjÃ¤rtat och nÃ¥r globalt.

### VÃ¤rderingar: Vad Vi StÃ¥r FÃ¶r ğŸ›¡ï¸

VÃ¥ra kÃ¤rnvÃ¤rderingar Ã¤r:

1.  ğŸŒ **Enhet** â€“ Allt hÃ¤nger samman, och vi agerar frÃ¥n den insikten.
2.  â¤ï¸ **HjÃ¤rtintelligens** â€“ Vi litar pÃ¥ hjÃ¤rtats visdom bortom intellektets grÃ¤nser.
3.  âœ¨ **Autenticitet** â€“ Vi uppmuntrar Ã¤kthet i varje steg av resan.
4.  ğŸ¤— **MedkÃ¤nsla** â€“ KÃ¤rlek och empati Ã¤r drivkraften i allt vi gÃ¶r.
5.  ğŸŒ³ **HÃ¥llbarhet** â€“ Vi bygger fÃ¶r framtiden, inte bara fÃ¶r idag.

Dessa vÃ¤rderingar Ã¤r vÃ¥r ryggrad, hÃ¤mtade frÃ¥n drÃ¶mmen om *Rising Beyond* och levandegjorda i *Inner Journey*.

### Metod: Hur Vi GÃ¶r Det ğŸ› ï¸

*Inner Journey* fÃ¶rverkligar den *VisionÃ¤ra Grunden* genom att kombinera:

*   ğŸ§˜ **Guidad Meditation & Reflektion:** Kopplar mÃ¤nniskor till deras inre visdom och en kÃ¤nsla av enhet.
*   ğŸ“± **TillgÃ¤ngliga Verktyg:** Digitala lÃ¶sningar (`PWA`, `AI`) som gÃ¶r transformation enkelt fÃ¶r alla â€“ oavsett var, nÃ¤r eller vem.
*   ğŸ§‘â€ğŸ¤â€ğŸ§‘ **Gemenskap & Coaching:** Skapar nÃ¤tverk dÃ¤r individer och organisationer kan mÃ¶tas, dela och vÃ¤xa tillsammans.
*   â¤ï¸ + ğŸ¤– **HjÃ¤rta och Teknik:** FÃ¶renar hjÃ¤rtcentrerade metoder med modern teknik (`AI`) fÃ¶r att guida varje resa unikt.
*   ğŸŒŸ **Inspiration i Handling:** Visar konkreta resultat som inspirerar till mer engagemang och positiv fÃ¶rÃ¤ndring.

Vi gÃ¶r det inte genom att *tÃ¤nka* oss fram â€“ vi *kÃ¤nner* oss fram, steg fÃ¶r steg, frÃ¥n hjÃ¤rtat.

### FrÃ¥gor Som Leder Oss FramÃ¥t â“

Precis som i *Rising Beyond* lÃ¥ter vi kraftfulla frÃ¥gor guida oss:

*   ğŸ¤” Hur kan vi Ã¶ppna mÃ¤nniskors Ã¶gon och hjÃ¤rtan fÃ¶r en stÃ¶rre helhet och samhÃ¶righet?
*   ğŸ¤” Vad hÃ¤nder om vi gÃ¶r enhet och medkÃ¤nsla till nya sociala normer som sprider sig viralt?
*   ğŸ¤” Hur kan vi skapa verktyg som gÃ¶r det *enkelt* och *attraktivt* att leva frÃ¥n hjÃ¤rtat pÃ¥ en global skala?

Dessa frÃ¥gor Ã¤r inte bara retorik â€“ de Ã¤r vÃ¥r stÃ¤ndiga drivkraft och inspiration.

### Slutord: En Levande Grund ğŸ“–

*VisionÃ¤r Grund* Ã¤r inte ett statiskt dokument â€“ det Ã¤r en levande kÃ¤lla som vi Ã¥tervÃ¤nder till, reflekterar Ã¶ver, anpassar och vÃ¤xer med. Det hedrar ursprunget i *Rising Beyond*, Ulrikas visionÃ¤ra anda och *Inner Journeys* resa framÃ¥t.

Tillsammans med dig â€“ vÃ¥r gemenskap â€“ kan vi stiga vidare och gÃ¶ra drÃ¶mmen om en mer enad och hjÃ¤rtstyrd vÃ¤rld till verklighet.

**Vad betyder den hÃ¤r visionen fÃ¶r dig?** LÃ¥t oss bygga den tillsammans.

---

**Med hjÃ¤rtat som kompass,** â¤ï¸ğŸ§­
Joel Kvarnsmyr & Team Inner Journey

## Projektbeskrivning: Inner Journey ğŸ“

En Ã¶versikt av projektet, dess mÃ¥l, funktioner och strategier.

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `projektbeskrivning_master.md`)*

**âœ¨ Version:** 0.7
**ğŸ“… Datum:** 2025-03-24
**ğŸ‘¤ FÃ¶rfattare:** Bo Joel Kvarnsmyr
**ğŸ”„ Senast reviderad av:** Bo Joel Kvarnsmyr

### ğŸ’¡ Ã–versikt & Unikt VÃ¤rdeerbjudande

Inner Journey Ã¤r en plattform fÃ¶r sjÃ¤lvutveckling som kombinerar praktiska Ã¶vningar, reflektion och social interaktion. MÃ¥let Ã¤r att hjÃ¤lpa anvÃ¤ndare att vÃ¤xa och hantera vardagens utmaningar â€“ **utan fluffiga lÃ¶ften**. Genom en personlig startprocess och ett anpassningsbart grÃ¤nssnitt blir upplevelsen skrÃ¤ddarsydd och engagerande.

AnvÃ¤ndare kan utforska Ã¶vningar, logga reflektioner och koppla upp sig med andra, allt presenterat pÃ¥ ett modernt och anvÃ¤ndarvÃ¤nligt sÃ¤tt.

**FÃ¶r mer information, se:**

*   [Onboarding-process](#) *(LÃ¤nk ej specificerad)*
*   [Activations: Inner Journey](#) *(LÃ¤nk ej specificerad)*
*   [Teknisk dokumentation fÃ¶r backend](#) *(LÃ¤nk ej specificerad)*
*   [Teknisk dokumentation fÃ¶r frontend](#) *(LÃ¤nk ej specificerad)*

### ğŸ¯ Definierad MÃ¥lgrupp fÃ¶r Lansering

FÃ¶r att effektivt utveckla och nÃ¥ ut med Inner Journey prioriteras fÃ¶ljande mÃ¥lgrupper:

*   **PrimÃ¤r mÃ¥lgrupp:** Personer som aktivt arbetar med sjÃ¤lvfÃ¶rbÃ¤ttring â€“ t.ex. coacher, entreprenÃ¶rer eller individer som redan anvÃ¤nder verktyg som meditation eller journaling. De uppskattar verktyg som gÃ¶r vardagen mer meningsfull och effektiv. ğŸ’ª
*   **SekundÃ¤r mÃ¥lgrupp:** Individer som kÃ¤nner sig fast i rutinerna och sÃ¶ker konkreta sÃ¤tt att bryta mÃ¶nster, fÃ¶rbÃ¤ttra sitt mÃ¥ende eller hitta ny riktning â€“ utan att nÃ¶dvÃ¤ndigtvis vara "spirituella". ğŸ¤”

**Gemensamma Psykografiska Egenskaper:**

*   Praktiskt sinnade, nyfikna och Ã¶ppna fÃ¶r att testa nya verktyg fÃ¶r personlig utveckling.
*   Attraheras av tydliga resultat, smart design och en kÃ¤nsla av kontroll Ã¶ver sin egen resa.
*   VÃ¤rderar bÃ¥de individuell reflektion och mÃ¶jligheten att koppla upp sig med andra.

### ğŸš€ Huvudfunktioner & Koncept

Inner Journey Ã¤r byggd fÃ¶r att ge anvÃ¤ndare praktiska verktyg fÃ¶r sjÃ¤lvutveckling, anpassade efter deras liv och behov. HÃ¤r Ã¤r de tre huvudsakliga funktionerna vid lansering:

1.  **Personliga Resor:** AnvÃ¤ndare kan skapa skrÃ¤ddarsydda planer baserade pÃ¥ sina mÃ¥l â€“ oavsett om det Ã¤r att minska stress, hitta fokus eller utforska nya vanor. Plattformen guidar dem steg fÃ¶r steg med Ã¶vningar och reflektioner. ğŸ—ºï¸
2.  **Dynamisk Journal:** En smart journalfunktion som fÃ¶reslÃ¥r frÃ¥gor och teman baserat pÃ¥ anvÃ¤ndarens tidigare insikter, vilket gÃ¶r reflektion bÃ¥de djupare och mer meningsfull. âœï¸
3.  **Integrerade Verktyg:** Kombinerar meditation, mÃ¥lsÃ¤ttning och spÃ¥rning av framsteg i en sÃ¶mlÃ¶s upplevelse â€“ allt fÃ¶r att ge anvÃ¤ndaren kontroll Ã¶ver sin utveckling utan krÃ¥ngel. ğŸ§˜ğŸ¯ğŸ“Š

**Konceptet i korthet:** Inner Journey Ã¤r en flexibel fÃ¶ljeslagare fÃ¶r sjÃ¤lvinsikt, designad fÃ¶r att mÃ¶ta anvÃ¤ndaren dÃ¤r de Ã¤r och hjÃ¤lpa dem ta nÃ¤sta steg â€“ utan pekpinnar eller fluff.

FÃ¶r tekniska detaljer, se [Funktionsspecifikation](#). *(LÃ¤nk ej specificerad)*

### ğŸ’° Betalningsmodeller

Inner Journey erbjuder en flexibel betalningsstruktur fÃ¶r att passa olika anvÃ¤ndares behov:

*   **Gratisversion:** Ger tillgÃ¥ng till grundlÃ¤ggande Ã¶vningar och journalfunktioner. ğŸ‰
*   **Premiumversion:** LÃ¥ser upp avancerade Ã¶vningar och personliga planer fÃ¶r en djupare upplevelse. â­
*   **Prenumerationsbaserad betalning:** MÃ¥nads- eller Ã¥rsprenumerationer fÃ¶r premiumfunktioner, med rabatterade priser fÃ¶r lÃ¤ngre Ã¥taganden. ğŸ’³

FÃ¶r mer information, se [Betalningsmodeller-dokumentet](#). *(LÃ¤nk ej specificerad)*

### ğŸ¤ Coaching

Coaching Ã¤r en naturlig del av resan i Inner Journey. Som anvÃ¤ndare kan du vÃ¤xa till att bli coach, dÃ¤r du stÃ¶ttar nya eller befintliga anvÃ¤ndare utan coach â€“ ett steg som bÃ¥de hjÃ¤lper andra och fÃ¶rdjupar din egen utveckling.

Coacher arbetar tillsammans med sina anvÃ¤ndare genom gemensamma uppgifter, och certifierade coacher kan Ã¤ven guida andra coacher.

FÃ¶r mer information, se [Coaching-strategi](#). *(LÃ¤nk ej specificerad)*

### ğŸ“£ Strategi fÃ¶r AnvÃ¤ndarfeedback & Kommunikation

Inner Journey Ã¤r byggd fÃ¶r att vÃ¤xa med sina anvÃ¤ndare. Vi samlar in feedback genom en enkel knapp i appen som lÃ¤nkar till ett kort formulÃ¤r ğŸ“, och vi hÃ¥ller kontakten via mejl ğŸ“§ och en community-kanal ğŸ’¬.

Detta ger oss mÃ¶jlighet att snabbt fÃ¥nga upp anvÃ¤ndarnas tankar och gÃ¶ra fÃ¶rbÃ¤ttringar lÃ¶pande. Transparens och anvÃ¤ndarfokus Ã¤r nyckeln till en engagerad anvÃ¤ndarbas.

FÃ¶r mer information, se [AnvÃ¤ndarfeedback-strategi](#). *(LÃ¤nk ej specificerad)*

### ğŸ’» Teknisk Implementering (Sammanfattning)

Inner Journey Ã¤r byggd fÃ¶r att vara smidig och sÃ¤ker. Vi anvÃ¤nder:

*   ğŸ **Backend:** `Python` (`FastAPI`)
*   âš›ï¸ **Frontend:** `React` (`TypeScript`)
*   ğŸ“± **TillgÃ¤nglighet:** Progressive Web App (`PWA`) pÃ¥ alla enheter.
*   ğŸ”¥ **Infrastruktur:** `Firebase` fÃ¶r autentisering och datalagring (`Firestore`).
*   ğŸ¤– **FÃ¶rstÃ¤rkning:** `AI` och chattverktyg.

FÃ¶r mer information, se:

*   [Teknisk dokumentation fÃ¶r backend](#) *(LÃ¤nk ej specificerad)*
*   [Teknisk dokumentation fÃ¶r frontend](#) *(LÃ¤nk ej specificerad)*

### ğŸŒ± Inledande Strategi fÃ¶r MVP-lansering

MVP:n (Minimum Viable Product) av Inner Journey fokuserar pÃ¥ en stabil grund med:

1.  `Autentisering` ğŸ”’
2.  Enkel `onboarding` ğŸ‘‹
3.  `Daglig loggning` âœï¸

Vi lanserar med ett fÃ¥tal Ã¶vningar (t.ex. andning fÃ¶r fokus, reflektionsuppgifter) och ett stilrent grÃ¤nssnitt inspirerat av Typeform och Superhuman. AnvÃ¤ndarfeedback kommer att forma nÃ¤sta steg i utvecklingen.

FÃ¶r mer information, se:

*   [Utvecklingsplan](#) *(LÃ¤nk ej specificerad)*
*   [AnvÃ¤ndargrÃ¤nssnitt: Inner Journey](#) *(LÃ¤nk ej specificerad)*

### ğŸŒŸ Framtidsvision & TillvÃ¤xtstrategi

Inner Journey siktar pÃ¥ att bli en ledande plattform fÃ¶r praktisk sjÃ¤lvutveckling, dÃ¤r anvÃ¤ndare kan ta kontroll Ã¶ver sitt mÃ¥ende och sina mÃ¥l.

Vi vill vÃ¤xa genom att:

*   Erbjuda flexibla prisalternativ. ğŸ’²
*   Bygga en stark community som stÃ¶ttar bÃ¥de nybÃ¶rjare och erfarna coacher. ğŸ§‘â€ğŸ¤â€ğŸ§‘

FÃ¶r mer information, se:

*   [Utvecklingsplan](#) *(LÃ¤nk ej specificerad)*
*   [Betalningsmodeller & Integrerad Coaching](#) *(LÃ¤nk ej specificerad)*

## Teknisk Arkitektur & MiljÃ¶ ğŸ—ï¸

Detta avsnitt definierar den Ã¶vergripande tekniska arkitekturen och utvecklingsmiljÃ¶n fÃ¶r InnerJourney-plattformen.

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `2025-04-02-Arkitektur.md` och `styrdokument_fÃ¶r_innerjourney_1_syfte_och.md`)*

### ğŸ¯ Syfte och Vision (Tekniskt Perspektiv)

*   **Syfte:** Att bygga en robust och skalbar plattform som kombinerar astrologi och AI-interaktion fÃ¶r personlig utveckling. ğŸŒ±
*   **Vision:** Att skapa en ledande digital plattform fÃ¶r sjÃ¤lvreflektion och tillvÃ¤xt med en intuitiv och sÃ¤ker anvÃ¤ndarupplevelse globalt. ğŸŒâœ¨

### ğŸ—ï¸ ArkitekturÃ¶versikt

#### ğŸ Backend

*   **Ramverk:** `FastAPI` (Python) fÃ¶r snabb och effektiv API-utveckling.
*   **Datalagring:** Firebase `Firestore` fÃ¶r flexibel och skalbar NoSQL-databas. ğŸ”¥
*   **Hosting:** Google `Cloud Run` fÃ¶r automatisk skalning och containerbaserad deployment. â˜ï¸
*   **SÃ¤kerhet:** Google `Cloud Secret Manager` fÃ¶r hantering av API-nycklar och andra hemligheter. ğŸ”‘

#### âš›ï¸ Frontend

*   **Ramverk:** `React` med `TypeScript` fÃ¶r robust och typad kod.
*   **Styling:** `Chakra UI` fÃ¶r ett enhetligt och anvÃ¤ndarvÃ¤nligt grÃ¤nssnitt. ğŸ¨
*   **Autentisering:** `Firebase Authentication` fÃ¶r sÃ¤ker inloggning. ğŸ”’
*   **Hosting:** `Firebase Hosting` fÃ¶r enkel och snabb deployment. ğŸš€

#### ğŸŒ Kommunikation

*   API-anrop sker via HTTPS.
*   En `proxy rewrite` i `Firebase Hosting` anvÃ¤nds fÃ¶r att hantera API-fÃ¶rfrÃ¥gningar och undvika CORS-problem.

### ğŸ› ï¸ UtvecklingsmiljÃ¶ och Verktyg

*   **Versionshantering:** `Git` med `GitHub` som plattform. `main`-branch anvÃ¤nds fÃ¶r stabil kod, och `feature`-branches skapas fÃ¶r nya funktioner. ğŸ™
*   **IDE:** Rekommenderade val:
    *   Backend: `VSCode` eller `PyCharm`.
    *   Frontend: `WebStorm` eller `VSCode`. ğŸ’»
*   **Kodkvalitet:**
    *   **Frontend:** `ESLint` och `Prettier` fÃ¶r kodformatering och linting. âœ¨
    *   **Backend:** `Flake8` och `Black` fÃ¶r att sÃ¤kerstÃ¤lla konsekvent kodstil. âš«
*   **CI/CD:** `GitHub Actions` fÃ¶r automatiserad testning och deployment vid varje push eller pull request. âš™ï¸

### ğŸ§© ModulÃ¤r Design och Skalbarhet

#### ğŸ Backend

*   **API-design:** `RESTful` endpoints, t.ex. `/init-birthdata` fÃ¶r att spara fÃ¶delsedata och `/astro-data` fÃ¶r att hÃ¤mta astrologisk information.
*   **TjÃ¤nster:** Logik separeras i moduler, t.ex. `gemini_service.py` fÃ¶r AI-integration och `firebase_service.py` fÃ¶r databasinteraktion.
*   **Framtida integrationer:** FÃ¶rberedelser fÃ¶r `Dialogflow` (chatbot ğŸ¤–) och `ElevenLabs` (rÃ¶stgenerering ğŸ—£ï¸).

#### âš›ï¸ Frontend

*   **Navigering:** `React Router` fÃ¶r smidig sidnavigering. ğŸ§­
*   **Komponenter:** Fokus pÃ¥ Ã¥teranvÃ¤ndbara komponenter som `ActivationForm.tsx` och `AstroResults.tsx`.
*   **State management:** `React Context` eller `Redux` fÃ¶r global tillstÃ¥ndshantering.

### ğŸ”’ SÃ¤kerhet

*   **Autentisering:** `Firebase Authentication` med e-post/lÃ¶senord. Planerad utÃ¶kning till telefonverifiering. ğŸ“±
*   **API-sÃ¤kerhet:** Validering av `id_token` i backend fÃ¶r att sÃ¤kerstÃ¤lla att anrop kommer frÃ¥n autentiserade anvÃ¤ndare.
*   **Datahantering:** Kryptering av kÃ¤nslig data i `Firestore` (automatiskt) och anvÃ¤ndning av `Secret Manager` fÃ¶r API-nycklar.
*   **GDPR:** SamtyckesformulÃ¤r fÃ¶r anvÃ¤ndare och hantering av personuppgifter enligt gÃ¤llande lagkrav. ğŸ“œ

### âœ… Testning och KvalitetssÃ¤kring

*   **Enhetstester:**
    *   **Backend:** `pytest` fÃ¶r att testa API-logik och tjÃ¤nster.
    *   **Frontend:** `Jest` och `React Testing Library` fÃ¶r komponenttester.
*   **Integrationstester:** Testa API-anrop och autentiseringsflÃ¶den end-to-end.
*   **Automatisering:** Tester kÃ¶rs automatiskt i `CI/CD`-pipelinen (`GitHub Actions`) vid varje kodÃ¤ndring. ğŸ¤–

### ğŸš€ Deployment och UnderhÃ¥ll

#### â˜ï¸ Deployment

*   **Backend:** Google `Cloud Run` med automatisk skalning baserat pÃ¥ trafik.
*   **Frontend:** `Firebase Hosting` med `proxy rewrite` fÃ¶r API-anrop.

#### ğŸ‘€ Ã–vervakning

*   Google `Cloud Logging` fÃ¶r att spÃ¥ra fel och prestanda.
*   `Firebase Analytics` fÃ¶r att analysera anvÃ¤ndarbeteende.

#### ğŸ”§ UnderhÃ¥ll

*   Regelbundna uppdateringar av beroenden och sÃ¤kerhetspatchar.
*   Planerade granskningar av kodbasen fÃ¶r att sÃ¤kerstÃ¤lla lÃ¥ngsiktig hÃ¥llbarhet.

### ğŸ“š Dokumentation och Onboarding

*   **Teknisk dokumentation:** Centraliserad dokumentation (som detta dokument), en `README.md` per huvudkomponent (backend/frontend) och en `/docs`-mapp (om Docusaurus anvÃ¤nds) med installationsinstruktioner, arkitekturÃ¶versikt och API-dokumentation.
*   **Onboarding-guide:** Steg-fÃ¶r-steg-instruktioner fÃ¶r nya utvecklare, inklusive hur man sÃ¤tter upp miljÃ¶n och kÃ¶r projektet lokalt. ğŸ‘‹

## Backend: Setup, Utveckling & Deployment âš™ï¸

Detaljerad guide fÃ¶r att arbeta med InnerJourney-backend.

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `OnboardingBackend.md`)*

### 1. Lokal MiljÃ¶ ğŸ’»

#### 1.1 Installera NÃ¶dvÃ¤ndiga Verktyg ğŸ› ï¸

FÃ¶r att sÃ¤tta upp en fungerande lokal miljÃ¶ behÃ¶ver du fÃ¶ljande verktyg:

*   ğŸ **Python 3.10:** Installera denna version fÃ¶r kompatibilitet.
*   ğŸ“¦ **Virtualenv:** Skapa en virtuell miljÃ¶ fÃ¶r att isolera projektets paket.
    ```bash
    # Skapa virtuell miljÃ¶ (i projektets rot eller backend-mapp)
    python3.10 -m venv venv

    # Aktivera miljÃ¶n (Linux/macOS)
    source venv/bin/activate

    # Aktivera miljÃ¶n (Windows PowerShell)
    # .\venv\Scripts\Activate.ps1
    # Aktivera miljÃ¶n (Windows CMD)
    # venv\Scripts\activate.bat
    ```
*   ğŸ™ **Git:** FÃ¶r versionshantering.
*   ğŸ³ **Docker:** FÃ¶r att containerisera applikationen (rekommenderas fÃ¶r konsekvent miljÃ¶).
*   â˜ï¸ **Google Cloud SDK (`gcloud`):** FÃ¶r att hantera Google Cloud-tjÃ¤nster lokalt och deploya.

#### 1.2 Klona Projektet frÃ¥n GitHub ğŸ“¥

Klona repot till din lokala maskin och navigera till projektmappen:

```bash
git clone git@github.com:joelkvarnsmyr/InnerJourney.git
cd InnerJourney
```

#### 1.3 Installera Projektets Beroenden ğŸ“œ

Installera Python-paketen specificerade i `backend/requirements.txt`:

```bash
# Se till att din virtuella miljÃ¶ Ã¤r aktiverad
pip install -r backend/requirements.txt
```

#### 1.4 Konfigurera Lokala MiljÃ¶variabler ğŸ”‘

Skapa en `.env`-fil i `backend/`-mappen (eller projektets rot, beroende pÃ¥ konfiguration) fÃ¶r att lagra kÃ¤nsliga uppgifter lokalt:

```dotenv
# backend/.env fil exempel
GEMINI_API_KEY="din-lokala-gemini-api-nyckel"
FIREBASE_CREDENTIALS_PATH="~/.secrets/innerjourney-firebase-key.json"
# GOOGLE_CLOUD_PROJECT="ditt-gcp-projekt-id" # Kan behÃ¶vas fÃ¶r vissa klienter
```

**Viktigt:**
*   Placera din Firebase service account JSON-fil i sÃ¶kvÃ¤gen du angav (t.ex. `~/.secrets/innerjourney-firebase-key.json`).
*   Denna fil och `.env`-filen ska **aldrig** checkas in i Git. Se till att de finns i `.gitignore`.

#### 1.5 Starta Servern Lokalt â–¶ï¸

Starta FastAPI-servern med `Uvicorn` frÃ¥n projektets rotmapp:

```bash
# KÃ¶r frÃ¥n projektets rotmapp (InnerJourney/)
uvicorn backend.main:app --host 0.0.0.0 --port 8080 --reload
```

*   `--reload`: Startar om servern automatiskt vid kodÃ¤ndringar (bra fÃ¶r utveckling).

Servern Ã¤r nu tillgÃ¤nglig pÃ¥ `http://localhost:8080`. Du kan nÃ¥ den automatiska API-dokumentationen (Swagger UI) pÃ¥ `http://localhost:8080/docs`.

Testa en endpoint lokalt, till exempel `/gemini/getActivation`:

```bash
curl -X POST "http://localhost:8080/gemini/getActivation" \
  -H "Content-Type: application/json" \
  -d '{"mood": 2, "goal": "komma igÃ¥ng"}'
```

### 2. Git och Versionshantering ğŸ™

*   ğŸ”— **Git-repository:** `git@github.com:joelkvarnsmyr/InnerJourney.git`.
*   ğŸŒ¿ **Branch-strategi:**
    *   `main`: Stabil kod, redo fÃ¶r deployment. Endast merge frÃ¥n feature-branches via PR.
    *   `feature/<beskrivande-namn>`: Skapa fÃ¶r nya funktioner eller buggfixar (t.ex. `feature/add-user-profile-endpoint`).
    *   Merge till `main` sker via Pull Requests (PRs) med kodgranskning.
*   ğŸ’¬ **Commit-rutiner:**
    *   Committa ofta med smÃ¥, logiska Ã¤ndringar.
    *   AnvÃ¤nd tydliga och beskrivande commit-meddelanden (t.ex. enligt Conventional Commits: `feat: Add user profile endpoint`, `fix: Correct Firestore query logic`, `docs: Update backend README`).
*   ğŸš« **Ignorera kÃ¤nsliga filer:** SÃ¤kerstÃ¤ll att `.gitignore` innehÃ¥ller:
    *   `.env`
    *   `venv/`
    *   `__pycache__/`
    *   `*.pyc`
    *   SÃ¶kvÃ¤gen till dina lokala secrets (t.ex. `~/.secrets/` om du placerar dem dÃ¤r).

### 3. Firebase-integration ğŸ”¥

*   ğŸ’¾ **Firestore:** AnvÃ¤nds som NoSQL-databas. Se [Databasstruktur](#-databasstruktur-innerjourney-firestore) fÃ¶r detaljerad modell. *(LÃ¤nk internt i detta dokument)*
*   ğŸ”‘ **Firebase Admin SDK:** AnvÃ¤nds i backend fÃ¶r server-side interaktion med Firebase.
    *   **Produktion (Cloud Run):** SDK initieras med service account-uppgifter som hÃ¤mtas sÃ¤kert frÃ¥n `Google Cloud Secret Manager`.
    *   **Lokalt:** SDK anvÃ¤nder sÃ¶kvÃ¤gen till service account-filen specificerad i `FIREBASE_CREDENTIALS_PATH` i `.env`.
*   ğŸ’» **Kodexempel (Initiering i `firebase_service.py`):**

    ```python
    # Exempel pÃ¥ initiering i backend/services/firebase_service.py
    import firebase_admin
    from firebase_admin import credentials, firestore
    from google.cloud import secretmanager
    import json
    import os
    import logging

    logging.basicConfig(level=logging.INFO)
    logger = logging.getLogger(__name__)

    db = None # Global Firestore client instance

    def get_secret(secret_name, project_id="innerjourney-c007e"):
        """HÃ¤mtar den senaste versionen av en hemlighet frÃ¥n Google Secret Manager."""
        # ... (Implementation som i OnboardingBackend.md) ...
        client = secretmanager.SecretManagerServiceClient()
        secret_version_name = f"projects/{project_id}/secrets/{secret_name}/versions/latest"
        try:
            response = client.access_secret_version(name=secret_version_name)
            payload = response.payload.data.decode("UTF-8")
            logger.info(f"Successfully fetched secret: {secret_name}")
            return payload
        except Exception as e:
            logger.error(f"Error fetching secret {secret_name}: {e}")
            return None


    def initialize_firebase():
        """Initializes the Firebase Admin SDK."""
        global db
        if firebase_admin._apps:
            logger.info("Firebase Admin SDK already initialized.")
            if db is None: # Ensure db is set if already initialized but not globally set
                 db = firestore.client()
            return

        # FÃ¶rsÃ¶k hÃ¤mta frÃ¥n Secret Manager (Produktion/Cloud Run)
        firebase_credentials_json = get_secret("firebase-credentials") # Name of the secret in Secret Manager
        if firebase_credentials_json:
            try:
                firebase_credentials_dict = json.loads(firebase_credentials_json)
                cred = credentials.Certificate(firebase_credentials_dict)
                firebase_admin.initialize_app(cred)
                db = firestore.client()
                logger.info("âœ… Firebase Admin SDK initialized successfully from Secret Manager.")
                return
            except Exception as e:
                logger.error(f"âŒ Error initializing Firebase from Secret Manager: {e}")
        else:
             logger.warning("Could not fetch Firebase credentials from Secret Manager. Trying local path.")

        # Fallback till lokal sÃ¶kvÃ¤g (Lokal utveckling)
        # Load .env file if running locally without Docker env vars
        from dotenv import load_dotenv
        load_dotenv() # Load from .env in the current directory or parent

        local_path_env = os.getenv("FIREBASE_CREDENTIALS_PATH")
        if local_path_env:
            expanded_path = os.path.expanduser(local_path_env)
            if os.path.exists(expanded_path):
                try:
                    cred = credentials.Certificate(expanded_path)
                    firebase_admin.initialize_app(cred)
                    db = firestore.client()
                    logger.info(f"âœ… Firebase Admin SDK initialized successfully from local path: {expanded_path}")
                    return
                except Exception as e:
                    logger.error(f"âŒ Error initializing Firebase from local path {expanded_path}: {e}")
            else:
                logger.error(f"âŒ Local Firebase credentials file not found at: {expanded_path}")
        else:
            logger.error("âŒ FIREBASE_CREDENTIALS_PATH environment variable not set or found.")

        # Om ingen metod lyckades
        if db is None:
             logger.critical("âŒâŒ Firebase Admin SDK could not be initialized.")


    def save_to_firestore(collection: str, doc_id: str, data: dict):
        """Sparar data till en specifik Firestore-collection."""
        if not db:
            logger.error("Firestore client not initialized. Cannot save data.")
            initialize_firebase() # Attempt to initialize again
            if not db: return False

        try:
            doc_ref = db.collection(collection).document(doc_id)
            doc_ref.set(data, merge=True) # Use merge=True to update existing fields or create new doc
            logger.info(f"ğŸ’¾ Data saved/merged to Firestore: {collection}/{doc_id}")
            return True
        except Exception as e:
            logger.error(f"âŒ Error saving to Firestore ({collection}/{doc_id}): {e}")
            return False

    # Initiera Firebase nÃ¤r modulen laddas (eller vid fÃ¶rsta anrop)
    initialize_firebase()
    ```

### 4. Deployment till Google Cloud Run â˜ï¸

#### 4.1 FÃ¶rberedelser âœ…

*   ğŸ—ï¸ **Google Cloud-projekt:** Projektet `innerjourney-c007e` (eller ditt projekt-ID) mÃ¥ste vara konfigurerat.
*   ğŸ”Œ **Aktivera API:er:** SÃ¤kerstÃ¤ll att fÃ¶ljande API:er Ã¤r aktiverade i GCP-projektet:
    *   `Cloud Run API`
    *   `Secret Manager API`
    *   `Artifact Registry API` (rekommenderas)
    *   `Cloud Build API` (om CI/CD via Cloud Build anvÃ¤nds)

#### 4.2 Bygg och Pusha Docker-image ğŸ³

*   ğŸ“„ **Dockerfile (`backend/Dockerfile`):** Definierar hur applikationen containeriseras.

    ```dockerfile
    # AnvÃ¤nd en officiell Python runtime som basimage
    FROM python:3.10-slim

    # SÃ¤tt arbetskatalogen i containern
    WORKDIR /app

    # Installera systemberoenden om nÃ¶dvÃ¤ndigt
    # RUN apt-get update && apt-get install -y --no-install-recommends <package-name> && rm -rf /var/lib/apt/lists/*

    # Kopiera requirements-filen fÃ¶rst fÃ¶r att dra nytta av Docker layer caching
    COPY backend/requirements.txt .

    # Uppdatera pip och installera beroenden utan cache
    RUN pip install --no-cache-dir --upgrade pip && \
        pip install --no-cache-dir -r requirements.txt

    # Kopiera resten av applikationskoden (frÃ¥n projektets rot till /app i containern)
    # Se till att .dockerignore exkluderar onÃ¶diga filer (venv, .git, .vscode, etc.)
    COPY . .

    # Exponera porten som Uvicorn kommer att lyssna pÃ¥
    EXPOSE 8080

    # KÃ¶r applikationen med Uvicorn nÃ¤r containern startar
    # Cloud Run sÃ¤tter PORT-variabeln, Uvicorn kan anvÃ¤nda den eller en fast port.
    # AnvÃ¤nd Gunicorn med Uvicorn workers fÃ¶r produktion.
    CMD ["uvicorn", "backend.main:app", "--host", "0.0.0.0", "--port", "8080"]
    ```
    *(Notera: Justera `COPY` och `WORKDIR` om din struktur Ã¤r annorlunda)*

*   ğŸ—ï¸â¡ï¸â˜ï¸ **Bygg och pusha imagen (Manuellt exempel):** AnvÃ¤nd Google Cloud Artifact Registry.
    *   ErsÃ¤tt variabler med dina vÃ¤rden.

    ```bash
    # Definiera variabler
    export PROJECT_ID="innerjourney-c007e"
    export REGION="europe-west1" # Exempel region
    export REPO_NAME="innerjourney-repo" # Ditt repo i Artifact Registry
    export IMAGE_NAME="innerjourney-backend"
    export IMAGE_TAG="latest" # Eller en specifik tagg, t.ex. git commit hash

    # Skapa Artifact Registry repo (om det inte finns)
    # gcloud artifacts repositories create ${REPO_NAME} --repository-format=docker --location=${REGION} --description="Docker repository for InnerJourney"

    # Konfigurera Docker fÃ¶r att autentisera mot Artifact Registry
    gcloud auth configure-docker ${REGION}-docker.pkg.dev

    # Bygg Docker-imagen lokalt (kÃ¶r frÃ¥n projektets rot, dÃ¤r Dockerfile finns eller specificera sÃ¶kvÃ¤g med -f)
    docker build -t ${REGION}-docker.pkg.dev/${PROJECT_ID}/${REPO_NAME}/${IMAGE_NAME}:${IMAGE_TAG} -f backend/Dockerfile .

    # Pusha imagen till Artifact Registry
    docker push ${REGION}-docker.pkg.dev/${PROJECT_ID}/${REPO_NAME}/${IMAGE_NAME}:${IMAGE_TAG}
    ```

#### 4.3 Deploya till Cloud Run ğŸš€

*   âŒ¨ï¸ **Deploy-kommando (Manuellt exempel):** AnvÃ¤nd `gcloud` fÃ¶r att deploya den pushade imagen.

    ```bash
    # FortsÃ¤tt med variabler frÃ¥n fÃ¶regÃ¥ende steg
    export SERVICE_NAME="innerjourney-backend"
    # Rekommenderat: Skapa ett dedikerat servicekonto fÃ¶r Cloud Run-tjÃ¤nsten
    export SERVICE_ACCOUNT_EMAIL="[DITT-SERVICEKONTO]@[PROJEKT-ID].iam.gserviceaccount.com" # Exempel

    # Deploy kommando
    gcloud run deploy ${SERVICE_NAME} \
      --image ${REGION}-docker.pkg.dev/${PROJECT_ID}/${REPO_NAME}/${IMAGE_NAME}:${IMAGE_TAG} \
      --platform managed \
      --region ${REGION} \
      --service-account=${SERVICE_ACCOUNT_EMAIL} \
      --allow-unauthenticated \
      --port 8080 \
      --set-secrets=GEMINI_API_KEY=gemini-api-key:latest,FIREBASE_CREDENTIALS=firebase-credentials:latest \
      # --set-env-vars=GOOGLE_CLOUD_PROJECT=${PROJECT_ID} # Kan behÃ¶vas

      # Ta bort --allow-unauthenticated fÃ¶r produktion och implementera autentisering!
    ```
    *   **Viktigt:** `--allow-unauthenticated` gÃ¶r tjÃ¤nsten publik. **Ta bort** detta i produktion och implementera autentisering (t.ex. validering av Firebase `id_token`).
    *   `--set-secrets`: Mappar hemligheter frÃ¥n Secret Manager till containern (antingen som volymer eller miljÃ¶variabler). Detta Ã¤r ett alternativ/komplement till att hÃ¤mta dem i koden. Anpassa namnen (`gemini-api-key`, `firebase-credentials`) till dina hemligheter i Secret Manager.
    *   ErsÃ¤tt `[DITT-SERVICEKONTO]` och `[PROJEKT-ID]` med korrekta vÃ¤rden. Servicekontot behÃ¶ver rÃ¤tt behÃ¶righeter (se nÃ¤sta punkt).

*   ğŸ”— **Service-URL:** Efter lyckad deployment fÃ¥r du en URL fÃ¶r tjÃ¤nsten, t.ex. `https://innerjourney-backend-xxxxxxxxxx-ew.a.run.app`.

#### 4.4 Hantera Hemligheter i Cloud Run ğŸ”’

*   ğŸ”‘ **Secret Manager:** Lagra API-nycklar (`gemini-api-key`) och Firebase service account JSON (`firebase-credentials`) sÃ¤kert hÃ¤r.
*   ğŸ›¡ï¸ **BehÃ¶righeter:** Cloud Run-tjÃ¤nstens servicekonto (angivet via `--service-account`) mÃ¥ste ha IAM-rollen `Secret Manager Secret Accessor` (`roles/secretmanager.secretAccessor`) fÃ¶r att kunna hÃ¤mta hemligheterna (antingen via kod eller via `--set-secrets`). Konfigurera i GCP Console (`IAM & Admin` > `IAM`).

### 5. FelsÃ¶kning och Vanliga Problem ğŸ

#### 5.1 `404 Not Found`

*   ğŸ¤” **Orsak:** En specifik route/endpoint (t.ex. `/gemini/getActivation`) hittas inte av FastAPI. Ofta p.g.a. felaktig router-registrering i `backend/main.py` eller stavfel.
*   âœ… **LÃ¶sning:**
    1.  Verifiera import: `from backend.routes import gemini` (eller relevant modul) i `main.py`.
    2.  Verifiera inkludering: `app.include_router(gemini.router, prefix="/gemini", tags=["Gemini"])` i `main.py`.
    3.  Kontrollera prefix (`/gemini`) och endpoint-path (`/getActivation`) fÃ¶r stavfel.
    4.  Kontrollera att du anropar rÃ¤tt fullstÃ¤ndig URL.

#### 5.2 `PermissionDenied` vid Ã…tkomst till Secret Manager

*   ğŸ¤” **Orsak:** Cloud Run-tjÃ¤nstens servicekonto saknar rollen `Secret Manager Secret Accessor`. Syns i Cloud Run-loggarna.
*   âœ… **LÃ¶sning:**
    1.  GÃ¥ till `IAM & Admin` > `IAM` i GCP Console.
    2.  Hitta servicekontot fÃ¶r din Cloud Run-tjÃ¤nst.
    3.  Klicka pÃ¥ redigeringspennan (Redigera huvudkonto).
    4.  Klicka `LÃ„GG TILL YTTERLIGARE EN ROLL`.
    5.  SÃ¶k och vÃ¤lj `Secret Manager Secret Accessor`.
    6.  `SPARA`.
    7.  Deploya om tjÃ¤nsten fÃ¶r att vara sÃ¤ker pÃ¥ att Ã¤ndringen slÃ¥r igenom.

#### 5.3 Container failed to start / Application Error

*   ğŸ¤” **Orsak:** Applikationen kraschar vid start. MÃ¶jliga skÃ¤l:
    *   Syntaxfel i Python.
    *   Saknade paket i `requirements.txt` / `Dockerfile`.
    *   Konfigurationsfel (lÃ¤sa `.env`, initiera Firebase, hÃ¤mta secrets).
    *   Port-bindningsproblem (`CMD` i `Dockerfile`).
    *   Fel i global kod i `main.py`.
*   âœ… **LÃ¶sning:**
    1.  **Kolla loggarna!** GÃ¥ till Cloud Run-tjÃ¤nsten > `LOGGAR` i GCP Console. Leta efter Python tracebacks.
    2.  **Testa lokalt med Docker:** Bygg (`docker build`) och kÃ¶r (`docker run`) containern lokalt fÃ¶r att felsÃ¶ka.
        ```bash
        # Bygg lokalt
        docker build -t innerjourney-local -f backend/Dockerfile .
        # KÃ¶r lokalt, mappa port, skicka med .env via --env-file eller -e
        docker run -p 8080:8080 --env-file backend/.env innerjourney-local
        ```
    3.  **Verifiera `Dockerfile`, `requirements.txt`, `main.py` och initieringskod.**

## Backend README: Ã–versikt & API ğŸ“–

Sammanfattande information och API-dokumentation fÃ¶r backend.

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `backend_master.md`)*

### Ã–versikt ğŸ“œ

Backend fÃ¶r **InnerJourney** Ã¤r byggd med `FastAPI` (Python ğŸ) och integrerar med:

*   Firebase `Firestore` ğŸ”¥: Datalagring.
*   Google `Gemini` ğŸ¤–: AI-insikter.
*   Google `Cloud Secret Manager` ğŸ”‘: Hemlighetshantering.

Den Ã¤r containeriserad (`Docker` ğŸ³), deployad pÃ¥ `Cloud Run` â˜ï¸ och byggs/deployas automatiskt via `Cloud Build` ğŸ”§ och `GitHub` ğŸ™.

### FÃ¶rutsÃ¤ttningar âœ…

*   ğŸ Python 3.10
*   ğŸ™ Git
*   ğŸ³ Docker
*   â˜ï¸ Google Cloud SDK (`gcloud`)
*   ğŸ”¥ Firebase-projekt (Firestore, Auth)
*   ğŸŒ Google Cloud-projekt (Cloud Run, Cloud Build, Secret Manager API:er aktiverade)

### Projektstruktur ğŸ—‚ï¸

```text
InnerJourney/
â”œâ”€â”€ backend/
â”‚   â”œâ”€â”€ models/              # ğŸ“‹ Pydantic-modeller (t.ex. activation.py)
â”‚   â”œâ”€â”€ routes/              # ğŸ›¤ï¸ API-routes (t.ex. gemini.py)
â”‚   â”œâ”€â”€ services/            # ğŸ› ï¸ AffÃ¤rslogik (t.ex. gemini_service.py, firebase_service.py)
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py              # ğŸ FastAPI app entrypoint
â”‚   â”œâ”€â”€ requirements.txt     # ğŸ“œ Beroenden
â”‚   â”œâ”€â”€ Dockerfile           # ğŸ³ Container definition
â”‚   â””â”€â”€ cloudbuild.yaml      # ğŸ”§ CI/CD konfiguration
â”œâ”€â”€ frontend/
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md              # Ã–vergripande README
```

### SÃ¤tta upp och testa lokalt med `gcloud`-autentisering ğŸ–¥ï¸

FÃ¶r att kÃ¶ra backend lokalt *inuti Docker* och lÃ¥ta den autentisera mot GCP (t.ex. Secret Manager) med dina lokala `gcloud`-credentials:

1.  **Klona repot:**
    ```bash
    git clone git@github.com:joelkvarnsmyr/InnerJourney.git
    cd InnerJourney
    ```
2.  **Autentisera `gcloud` lokalt (om du inte redan gjort det):**
    ```bash
    gcloud auth application-default login
    ```
3.  **Bygg Docker-imagen:**
    ```bash
    docker build -t innerjourney-backend -f backend/Dockerfile .
    ```
4.  **KÃ¶r containern och montera `gcloud` config:**
    ```bash
    # Linux/macOS:
    docker run -p 8080:8080 -e PORT=8080 \
      -v ${HOME}/.config/gcloud:/root/.config/gcloud:ro \
      --env-file backend/.env \
      innerjourney-backend

    # Windows (PowerShell): AnvÃ¤nd motsvarande sÃ¶kvÃ¤g fÃ¶r gcloud config
    # docker run -p 8080:8080 -e PORT=8080 `
    #  -v ${HOME}\AppData\Roaming\gcloud:/root/.config/gcloud:ro `
    #  --env-file backend/.env `
    #  innerjourney-backend
    ```
    *   `-v ... :ro`: Monterar dina lokala Application Default Credentials (ADC) skrivskyddat.
    *   `--env-file backend/.env`: Laddar miljÃ¶variabler frÃ¥n din lokala `.env`-fil (fÃ¶r t.ex. `FIREBASE_CREDENTIALS_PATH`).

API:et nÃ¥s nu pÃ¥ `http://localhost:8080`. Swagger UI: `http://localhost:8080/docs`.

### Deploya till Google Cloud Run med Git och Cloud Build ğŸŒ

Deployment sker automatiskt via `Cloud Build` nÃ¤r Ã¤ndringar pushas till `main`-grenen pÃ¥ GitHub, baserat pÃ¥ `cloudbuild.yaml`.

1.  **Konfigurera Cloud Build Trigger (EngÃ¥ngs-setup):** Se [Backend Onboarding](#41-frberedelser-) fÃ¶r detaljer om att koppla GitHub och sÃ¤tta behÃ¶righeter.
2.  **Committa och pusha Ã¤ndringar:**
    ```bash
    git add .
    git commit -m "feat: LÃ¤gg till ny endpoint fÃ¶r X"
    git push origin main
    ```
3.  **FÃ¶lj bygget:** Ã–vervaka i **Cloud Build > History** i GCP Console.
4.  **Testa deployad tjÃ¤nst:** AnvÃ¤nd tjÃ¤nstens URL frÃ¥n Cloud Run.

### API-dokumentation fÃ¶r frontend-utvecklare ğŸ“š

#### Endpoint: `POST /gemini/getActivation`

Genererar en personlig "aktivering" (Ã¶vning) baserat pÃ¥ humÃ¶r och mÃ¥l. Sparar i `Firestore` och returnerar.

*   **URL:** `<Service URL>/gemini/getActivation`
*   **Metod:** `POST`
*   **Request Body:**
    ```json
    {
      "mood": integer, // Obligatorisk (1-5)
      "goal": string   // Obligatorisk (t.ex. "komma igÃ¥ng")
    }
    ```
*   **Response (200 OK):**
    ```json
    {
      "title": string,
      "description": string,
      "duration": integer, // minuter
      "activation_type": string,
      "category_id": string,
      "prompt": string,
      "log_type": string,
      "prerequisite": string,
      "repetitions": integer,
      "questions": list[string],
      "ai_assessment": boolean,
      "coach_approval_required": boolean,
      "net_enabled": boolean,
      "introduction_message": string,
      "preparation_message": string,
      "activation_id": string, // Unikt ID fÃ¶r denna generering
      "source": string // "AI" eller "Predefined"
    }
    ```
*   **Exempel Svar:**
    ```json
    {
      "title": "Fokuserad Andning",
      "description": "En kort andningsÃ¶vning fÃ¶r att Ã¶ka fokus och klarhet.",
      "duration": 5,
      // ... (resten av fÃ¤lten)
      "activation_id": "gemini_1743422072",
      "source": "AI"
    }
    ```
*   **Felhantering:**
    *   `400 Bad Request`: Obligatoriska fÃ¤lt saknas eller ogiltiga vÃ¤rden (t.ex. `mood` utanfÃ¶r 1-5).
    *   `422 Unprocessable Entity`: Fel datatyp i request body (FastAPI validering).
    *   `500 Internal Server Error`: Serverfel (problem med Gemini, Firestore, etc.). Kolla Cloud Run-loggar.

### SÃ¤kerhet och Hemligheter ğŸ”’

*   ğŸ”‘ **Hemligheter:** `GEMINI_API_KEY`, `firebase-credentials` (service account JSON) lagras i Google `Cloud Secret Manager`. **Checka aldrig in i Git.**
*   ğŸ›¡ï¸ **Ã…tkomst:**
    *   **Cloud Run:** Servicekontot behÃ¶ver rollen `Secret Manager Secret Accessor`.
    *   **Lokalt (Docker + gcloud):** Din anvÃ¤ndare behÃ¶ver samma roll pÃ¥ GCP-projektet.
*   ğŸ” **API-skydd:** **Ta bort** `--allow-unauthenticated` i produktion. Implementera validering av Firebase Auth `id_token` i backend fÃ¶r skyddade endpoints.

### FelsÃ¶kning ğŸ

Se [FelsÃ¶kning i Backend Onboarding](#5-felsÃ¶kning-och-vanliga-problem-) fÃ¶r:
*   `404 Not Found`
*   `PermissionDenied` (Secret Manager)
*   `Container failed to start`

### NÃ¤sta steg ğŸŒŸ

*   ğŸ“ˆ UtÃ¶ka API:et (profil, loggning, historik).
*   ğŸ§ª Implementera tester (`pytest`).
*   ğŸ” Implementera API-autentisering (validera `id_token`).
*   ğŸ“Š FÃ¶rbÃ¤ttra Ã¶vervakning & loggning.

### Kontakt ğŸ“¬

Skapa ett issue i GitHub-repositoryt: `joelkvarnsmyr/InnerJourney`.

## Databasstruktur: InnerJourney (Firestore) ğŸ—„ï¸

Beskrivning av den planerade Firestore-databasstrukturen.

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `databasstruktur.md`)*

**Version:** 5.0
**Datum:** 2025-03-24
**FÃ¶rfattare:** Bo Joel Kvarnsmyr
**Senast reviderad av:** Bo Joel Kvarnsmyr

### ğŸ¯ Syfte & Ã–versikt

Designad fÃ¶r att lagra och hantera anvÃ¤ndardata sÃ¤kert, skalbart och effektivt med Firebase `Firestore`. StÃ¶djer kÃ¤rnfunktioner:

*   Personlig profilering (astrologi, numerologi, svar). ğŸ‘¤âœ¨ğŸ”¢
*   Loggning av Ã¶vningar (`activations`), inkl. live-interaktioner och AI-analyser. ğŸ’ªğŸ“ğŸ¤–
*   Framtida sociala interaktioner och coachverktyg. ğŸ§‘â€ğŸ¤â€ğŸ§‘ğŸ¤

> **ğŸ“ OBS (Status Mars 2025):** `Firestore` Ã¤r **inte** fullt implementerat i backend Ã¤nnu. Viss data kan lagras temporÃ¤rt (t.ex. `call_status` i minnet). Strukturen nedan Ã¤r den **planerade och mÃ¥lsatta** modellen.

FÃ¶r en bredare Ã¶versikt, se [Projektbeskrivning](#projektbeskrivning-inner-journey-). *(LÃ¤nk internt i detta dokument)*

### ğŸ—‚ï¸ Samlingar & FÃ¤lt (Planerad Firestore Struktur)

---

#### ğŸ‘¤ Samling: `users`

**Beskrivning:** Huvudsamling fÃ¶r anvÃ¤ndarprofiler.
**Dokument-ID:** AnvÃ¤ndarens UID frÃ¥n `Firebase Authentication` (t.ex. `abc123xyz`).

**FÃ¤lt:**

*   `userId`: `String` - (Redundant om ID=UID, men kan behÃ¥llas). Samma som dokument-ID.
*   `birthDate`: `String` - `YYYY-MM-DD` (t.ex. `"1990-05-15"`).
*   `birthTime`: `String` - `HH:MM` (t.ex. `"14:30"`).
*   `birthLocation`: `String` - (t.ex. `"Stockholm, Sweden"`).
*   `phoneNumber`: `String` (Valfritt) - Verifierat nummer (t.ex. `"+447418631211"`).
*   `email`: `String` - AnvÃ¤ndarens e-post (frÃ¥n `Firebase Auth`).
*   `displayName`: `String` (Valfritt) - Visningsnamn.
*   `createdAt`: `Timestamp` - NÃ¤r kontot skapades i `Firestore`.
*   `lastLoginAt`: `Timestamp` - Senaste inloggning (uppdateras via backend/funktion).
*   `onboardingCompleted`: `Boolean` - Om onboarding Ã¤r klar.
*   `preferences`: `Object` - InstÃ¤llningar:
    *   `uiStyle`: `String` - UI-tema (t.ex. `"clean"`, `"technical"`).
    *   `focusArea`: `String` - MÃ¥l (t.ex. `"stress_relief"`, `"focus"`).
    *   `timeCommitment`: `Number` - Tid per dag (minuter).
    *   `notificationsEnabled`: `Boolean`.
*   `profile`: `Object` - Genererad profil:
    *   `personalityTraits`: `Array<String>` - Egenskaper frÃ¥n svar (t.ex. `["introvert"]`).
    *   `astroSign`: `String` - Soltecken (t.ex. `"Taurus"`).
    *   `lifePathNumber`: `Number` - LivsvÃ¤gstal (t.ex. `7`).
    *   `neuroTendencies`: `Object` - Indikatorer:
        *   `adhdScore`: `Number` (0-10).
        *   `autismScore`: `Number` (0-10).
    *   `wellbeingFlags`: `Object` - VÃ¤lmÃ¥endemarkÃ¶rer:
        *   `depressionRisk`: `Boolean`.
        *   `suicideRisk`: `Boolean`. *(Hanteras varsamt!)*
*   `onboardingAnswers`: `Array<Object>` - RÃ¥svar frÃ¥n onboarding (t.ex. `[{"questionId": "q1", "answer": "Draining"}]`).

**ğŸ’¡ Flexibilitet:** UtÃ¶ka med `moonSign`, `risingSign`, `progressLevel`, `assignedCoachId` etc.

---

#### ğŸ’ª Samling: `activations` (Tidigare `exercises`)

**Beskrivning:** Definitioner av alla tillgÃ¤ngliga aktiveringar.
**Dokument-ID:** Unikt ID (t.ex. `"hemisync_focus_001"`).

**FÃ¤lt:**

*   `activationId`: `String` - (Redundant om ID anvÃ¤nds). Samma som dokument-ID.
*   `title`: `String` - (t.ex. `"Hemisync Fokus"`).
*   `type`: `String` - Typ (t.ex. `"audio_guided"`, `"live_interaction_video"`, `"ai_assessment_movement"`).
*   `description`: `String` - Kort introduktion.
*   `durationMinutes`: `Number` - Varaktighet (minuter).
*   `mediaUrl`: `String` (valfritt) - LÃ¤nk till media i `Firebase Storage`.
*   `category`: `String` - (t.ex. `"awareness"`, `"social"`).
*   `tags`: `Array<String>` - Etiketter (t.ex. `["focus", "hemisync"]`).
*   `instructions`: `String` - Steg-fÃ¶r-steg (kan vara Markdown).
*   `logPrompts`: `Array<String>` - FrÃ¥gor fÃ¶r reflektion.
*   `requiredEquipment`: `Array<String>` - (t.ex. `["headphones"]`).
*   `isPremium`: `Boolean` - KrÃ¤ver premium?

**ğŸ’¡ Flexibilitet:** UtÃ¶ka med `difficultyLevel`, `prerequisites`.

---

#### ğŸ“ Samling: `user_activation_logs` (Tidigare `user_exercises`)

**Beskrivning:** Loggar en anvÃ¤ndares genomfÃ¶rande av en aktivering.
**Dokument-ID:** Unikt auto-genererat ID.

**FÃ¤lt:**

*   `logId`: `String` - (Redundant). Samma som dokument-ID.
*   `userId`: `String` - Ref till `users` UID.
*   `activationId`: `String` - Ref till `activations`.
*   `startedAt`: `Timestamp`.
*   `completedAt`: `Timestamp`.
*   `status`: `String` - (t.ex. `"started"`, `"completed"`).
*   `logData`: `Object` - AnvÃ¤ndarens logg:
    *   `textReflection`: `String` (valfritt).
    *   `rating`: `Number` (valfritt) - Betyg (1-5).
    *   `moodBefore`: `Number` (valfritt) - HumÃ¶r (1-5).
    *   `moodAfter`: `Number` (valfritt) - HumÃ¶r (1-5).
    *   `audioLogUrl`: `String` (valfritt) - LÃ¤nk till ljudlogg (planerat).
    *   `videoLogUrl`: `String` (valfritt) - LÃ¤nk till videologg (planerat).
    *   `aiAnalysisResult`: `Object` (valfritt) - Resultat frÃ¥n AI (t.ex. `{ "balanceScore": 8.5 }`).
*   `liveSessionId`: `String` (valfritt) - Ref till `live_sessions`.

**ğŸ’¡ Flexibilitet:** UtÃ¶ka med `coachFeedback`. Skapa index pÃ¥ `userId` och `completedAt`.

---

#### ğŸ‘¥ Samling: `live_sessions`

**Beskrivning:** Data fÃ¶r live-interaktioner.
**Dokument-ID:** Unikt ID (t.ex. `"live_session_xyz789"`).

**FÃ¤lt:**

*   `sessionId`: `String` - (Redundant). Samma som dokument-ID.
*   `activationId`: `String` - Ref till `activations`.
*   `participants`: `Array<String>` - Lista med `userId`.
*   `status`: `String` - (t.ex. `"waiting_for_participants"`, `"in_progress"`, `"completed"`).
*   `startTime`: `Timestamp`.
*   `endTime`: `Timestamp` (valfritt).
*   `sessionData`: `Object` (valfritt) - Teknisk data (WebRTC info, inspelning?).
*   `reflections`: `Map<String, Object>` (valfritt) - Reflektioner per `userId`.
    *   `"user_abc": { "text": "...", "submittedAt": Timestamp }`

**ğŸ’¡ Flexibilitet:** UtÃ¶ka med `maxParticipants`, `inviteCode`.

---

#### âœ… Samling: `consents`

**Beskrivning:** Lagrar anvÃ¤ndares samtycken (GDPR etc.).
**Dokument-ID:** AnvÃ¤ndarens UID (`userId`).

**FÃ¤lt:**

*   `userId`: `String` - (Redundant). Samma som dokument-ID.
*   `consentHistory`: `Array<Object>` - Lista med samtycken:
    *   `type`: `String` - (t.ex. `"terms_and_conditions"`, `"privacy_policy"`).
    *   `version`: `String` - (t.ex. `"v1.0"`).
    *   `agreedAt`: `Timestamp`.
    *   `status`: `String` - `"granted"` eller `"revoked"`.

---

#### ğŸ“ Samling: `call_sessions` (Tidigare `sessions`)

**Beskrivning:** TemporÃ¤r status fÃ¶r specifika flÃ¶den (t.ex. telefonverifiering). AnvÃ¤nd Firestore TTL.
**Dokument-ID:** Unikt ID (t.ex. `"call_verify_abc123"`).

**FÃ¤lt:**

*   `sessionId`: `String` - (Redundant). Samma som dokument-ID.
*   `type`: `String` - (t.ex. `"phone_verification"`).
*   `userId`: `String` - Ref till `users`.
*   `status`: `String` - (t.ex. `"initiated"`, `"code_sent"`, `"verified"`).
*   `data`: `Object` - Sessionsspecifik data:
    *   `verificationCodeHash`: `String` - Hashad kod.
    *   `phoneNumber`: `String`.
    *   `attempts`: `Number`.
*   `createdAt`: `Timestamp`.
*   `expiresAt`: `Timestamp` - FÃ¶r TTL Policy.

### ğŸ“Š Exempeldata (Illustrativt)

Se [Databasstruktur (Firestore) - Exempeldata](#-exempeldata-illustrativt-) fÃ¶r JSON-exempel. *(LÃ¤nk internt i detta dokument)*

### âœï¸ Datainmatning & AnvÃ¤ndning

*   **Onboarding:** Frontend samlar data -> Skickar till backend -> Backend processar (astro/numero) & sparar i `users` och `consents`.
*   **Aktiveringar:** Frontend hÃ¤mtar frÃ¥n `activations` -> Vid start/slut skapar/uppdaterar backend logg i `user_activation_logs`. Live-interaktioner anvÃ¤nder `live_sessions`.
*   **Samtal/Sessioner:** Backend anvÃ¤nder `call_sessions` fÃ¶r temporÃ¤ra flÃ¶den.

### ğŸ’» Teknisk Implementering

*   **Firebase Setup:** KrÃ¤ver konfig av `Firestore`, `Storage`, `Authentication`, `Cloud Functions` (ev.), `Firestore Rules`.
*   **Backend (`FastAPI`):** AffÃ¤rslogik, validering (Pydantic), berÃ¤kningar (t.ex. `Flatlib`), interaktion med AI, CRUD mot `Firestore` (Admin SDK).
*   **SÃ¤kerhetsregler (`Firestore Rules`):** **KRITISKT!** Definiera regler fÃ¶r att begrÃ¤nsa Ã¥tkomst (anvÃ¤ndare kan bara komma Ã¥t sin egen data). Se exempel i [Databasstruktur (Firestore) - Teknisk Implementering](#-teknisk-implementering-1). *(LÃ¤nk internt i detta dokument)*
*   **Indexering:** Skapa Firestore-index fÃ¶r vanliga queries (t.ex. `user_activation_logs` pÃ¥ `userId` och `completedAt`).

### ğŸ›¡ï¸ SÃ¤kerhet & GDPR

*   **Kryptering:** Automatiskt av Firestore/GCP (`at rest`, `in transit`).
*   **Ã…tkomstkontroll:** `Firestore Rules` (klient) + `id_token`-validering (backend API).
*   **Anonymisering/Pseudonymisering:** AnvÃ¤nd `userId` (Firebase UID).
*   **Radering:** Implementera sÃ¤ker raderingsfunktion (via backend/Cloud Function) fÃ¶r kontoborttagning (rensar `users`, `user_activation_logs`, `consents`, etc.).
*   **Lagringstid:** AnvÃ¤nd TTL fÃ¶r `call_sessions`. Definiera policy fÃ¶r loggdata/media i `Storage`.
*   Se dedikerat [SÃ¤kerhetsdokument](#) *(LÃ¤nk ej specificerad)*.

### ğŸ”— Koppling till Ã–vriga Dokument

Strukturen stÃ¶djer krav frÃ¥n:
*   [Projektbeskrivning](#projektbeskrivning-inner-journey-)
*   [AnvÃ¤ndargrÃ¤nssnitt](#) *(LÃ¤nk ej specificerad)*
*   [Utvecklingsplan](#) *(LÃ¤nk ej specificerad)*
*   [Onboarding-process](#) *(LÃ¤nk ej specificerad)*

## Projekthantering med GitHub Projects ğŸ—ºï¸

Guide fÃ¶r hur teamet anvÃ¤nder GitHub Projects fÃ¶r "Inner Journey MoSCoW".

*(Baserat pÃ¥ innehÃ¥ll frÃ¥n `UpptÃ¤ck AI-Projekt pÃ¥ GitHub`)*

### Syfte ğŸ¯

Att standardisera anvÃ¤ndningen av fÃ¤lt i GitHub Projects fÃ¶r att effektivt hantera uppgifter, prioriteringar (MoSCoW) och arbetsflÃ¶den. FrÃ¤mjar transparens, samarbete och kontinuerlig fÃ¶rbÃ¤ttring. âœ¨

### Instruktioner fÃ¶r AnvÃ¤ndning av GitHub Project FÃ¤lt ğŸ“

#### 1. `Title` (Kortets Titel)

*   **Vad:** Kort, tydlig titel fÃ¶r uppgiften.
*   **Hur:** Specifik, koncis, gÃ¤rna med verb (t.ex. "Implementera X").
*   **Exempel:** `Implementera formulÃ¤r fÃ¶r fÃ¶delsedata`.

#### 2. `Body` (Beskrivning & Checklistor)

*   **Vad:** Detaljerad beskrivning, mÃ¥l, kontext, checklista fÃ¶r deluppgifter.
*   **Hur:**
    *   Beskriv **vad** och **varfÃ¶r**.
    *   AnvÃ¤nd Markdown.
    *   Checklista under `**Tasks:**` (`- [ ]` / `- [x]`).
*   **Exempel:**
    ```markdown
    **MÃ¥l:** Samla in anvÃ¤ndarens fÃ¶delsedata fÃ¶r astrologisk profil (MVP).

    **Tasks:**
    - [ ] Skapa React-komponent (`BirthDataForm.tsx`).
    - [ ] Implementera validering.
    - [ ] LÃ¤gg till API-anrop (`/users/birthdata`).
    - [ ] Hantera API-svar.
    - [ ] Skriv enhetstest.
    ```

#### 3. `Assignees` ğŸ§‘â€ğŸ’» (Tilldelade)

*   **Vad:** Ansvariga teammedlemmar.
*   **Hur:** Tilldela via GitHub-anvÃ¤ndarnamn. Kommunicera.
*   **Exempel:** `@joelkvarnsmyr`.

#### 4. `Labels` ğŸ·ï¸ (Etiketter)

*   **Vad:** Kategorisering (MoSCoW, omrÃ¥de, typ).
*   **Hur:** VÃ¤lj frÃ¥n listan. Viktiga:
    *   MoSCoW: `Must have`, `Should have`, `Could have`, `Won't have`
    *   OmrÃ¥de: `Backend`, `Frontend`, `Onboarding`, `Design`, `Docs`
    *   Typ: `Bug`, `Feature`, `Task`, `Research`
*   **Exempel:** `Must have`, `Frontend`, `Feature`.

#### 5. `Milestone` ğŸ“ (Milstolpe)

*   **Vad:** Kopplar till Ã¶vergripande leverans/fas (sprint, release).
*   **Hur:** VÃ¤lj frÃ¥n listan (t.ex. `Sprint 1`, `MVP Release`).
*   **Exempel:** `Sprint 1`.

#### 6. `State` ğŸš¦ (Issue Status)

*   **Vad:** `open` eller `closed` (fÃ¶r kopplade Issues).
*   **Hur:** `open` vid skapande, `closed` nÃ¤r helt klar och godkÃ¤nd.
*   **Exempel:** `open`.

#### 7. `Status` ğŸ“Š (Kolumn pÃ¥ Tavlan)

*   **Vad:** Visar kortets plats i arbetsflÃ¶det.
*   **Hur:** Flytta kortet mellan kolumner:
    *   `IDEAS`: Framtida idÃ©er.
    *   `Backlog`: Identifierade men ej redo.
    *   `Ready`: Specade, prioriterade, redo fÃ¶r nÃ¤sta iteration.
    *   `In progress`: Aktivt arbete pÃ¥gÃ¥r.
    *   `In review`: Klart fÃ¶r granskning (kod, QA, design).
    *   `Done`: SlutfÃ¶rt, granskat, godkÃ¤nt (issue stÃ¤ngs ofta hÃ¤r).
*   **Exempel:** `In progress`.

#### 8. `Sub-issues progress` ğŸ“ˆ (Automatiskt)

*   **Vad:** Framsteg fÃ¶r checklistan i `Body`.
*   **Hur:** Uppdateras **automatiskt** nÃ¤r `- [ ]` blir `- [x]`.
*   **Exempel:** `2/5 (40%)`.

#### 9. `Priority` ğŸ”¥ (Finprioritering)

*   **Vad:** Prioritet *inom* en status/MoSCoW-kategori.
*   **Hur:** Skala (anpassa): `P0` (Urgent), `P1` (High), `P2` (Medium), `P3` (Low).
*   **Exempel:** `P1`.

#### 10. `Size` ğŸ“ (Storlek/Komplexitet)

*   **Vad:** Grov uppskattning (T-shirt sizing).
*   **Hur:** `Small` (S), `Medium` (M), `Large` (L), `X-Large` (XL). Baseras pÃ¥ teamets definition.
*   **Exempel:** `Medium`.

#### 11. `Estimate` â±ï¸ (Uppskattning)

*   **Vad:** Specifik uppskattning (timmar, story points).
*   **Hur:** Ange numeriskt vÃ¤rde enligt teamets enhet.
*   **Exempel:** `8` (t.ex. story points).

#### 12. `Iteration` ğŸ”„ (Sprint)

*   **Vad:** Kopplar till specifik tidsbestÃ¤md iteration.
*   **Hur:** VÃ¤lj frÃ¥n listan (t.ex. `Iteration 1: Apr 02 â€“ Apr 15`).
*   **Exempel:** `Iteration 1: Apr 02 â€“ Apr 15`.

#### 13. `Start date` ğŸ“… (Planerad Start)

*   **Vad:** Planerat startdatum.
*   **Hur:** Ange `YYYY-MM-DD`.
*   **Exempel:** `2025-04-02`.

#### 14. `End date` ğŸ“… (Planerat Slut)

*   **Vad:** Planerat slutdatum.
*   **Hur:** Ange `YYYY-MM-DD`.
*   **Exempel:** `2025-04-05`.

#### 15. `MoSCoW` âš–ï¸ (Prioritet)

*   **Vad:** PrioriteringsnivÃ¥ (kan vara Label eller dedikerat fÃ¤lt).
*   **Hur:** VÃ¤lj:
    *   `Must have`: Kritiskt fÃ¶r MVP/release.
    *   `Should have`: Viktigt, men inte kritiskt fÃ¶r *denna* release.
    *   `Could have`: Ã–nskvÃ¤rt ("nice to have").
    *   `Wonâ€™t have` (this time): Inte planerat nu.
*   **Exempel:** `Must have`.

#### 16. `User Value` â­ (AnvÃ¤ndarnytta)

*   **Vad:** Uppskattning av vÃ¤rde fÃ¶r slutanvÃ¤ndaren.
*   **Hur:** Skala (t.ex. 1-5): 1=lÃ¥g, 5=hÃ¶g.
*   **Exempel:** `5`.

#### 17. `Dependencies` ğŸ”— (Beroenden)

*   **Vad:** Beroenden till/frÃ¥n andra kort/issues.
*   **Hur:** AnvÃ¤nd GitHubs lÃ¤nkning ("blocked by", "blocking") eller text: `"Blocked by #123"`, `"Blocks #456"`.
*   **Exempel:** `Blocked by #12`.

#### 18. `Objective` ğŸ (MÃ¥l/Resultat)

*   **Vad:** Kort beskrivning av vad som uppnÃ¥s nÃ¤r kortet Ã¤r klart.
*   **Hur:** 1-2 meningar om "Definition of Done".
*   **Exempel:** `AnvÃ¤ndare kan ange och spara fÃ¶delsedata.`

#### 19. `Team` ğŸ‘¥ (Ansvarigt Team)

*   **Vad:** PrimÃ¤rt ansvarigt team (om flera).
*   **Hur:** VÃ¤lj frÃ¥n lista: `Dev`, `Design`, `Backend`, `Frontend`, etc.
*   **Exempel:** `Frontend`.

#### 20. `Release version` ğŸš€ (Release)

*   **Vad:** Planerad release-version.
*   **Hur:** VÃ¤lj: `R1` (MVP), `R2` (NÃ¤sta), `R3` (Framtid).
*   **Exempel:** `R1`.

### Riktlinjer fÃ¶r Kontinuerlig UtvÃ¤rdering ğŸ¤”âœ¨

*   **Regelbunden genomgÃ¥ng:** Uppdatera tavlan vid sprintplanering/retro.
*   **Hantera beroenden:** LÃ¶s blockeringar aktivt.
*   **Prioritera fÃ¶r release:** AnvÃ¤nd `Release version` och `MoSCoW` fÃ¶r att fokusera.
*   **Anpassa processen:** UtvÃ¤rdera och justera fÃ¤lt/flÃ¶de i retrospektiv.

### Exempel pÃ¥ ett Kort âœ…

*   **Issue/Kort:** #15: Implementera formulÃ¤r fÃ¶r fÃ¶delsedata
*   **Title:** Implementera formulÃ¤r fÃ¶r fÃ¶delsedata
*   **Body:** *(Se exempel ovan)*
*   **Assignees:** `@joelkvarnsmyr`
*   **Labels:** `Must have`, `Frontend`, `Onboarding`, `Feature`
*   **Milestone:** `Sprint 1`
*   **State:** `open`
*   **Status:** `In progress`
*   **Sub-issues progress:** `0/5 (0%)`
*   **Priority:** `P1`
*   **Size:** `Medium`
*   **Estimate:** `13` (sp)
*   **Iteration:** `Iteration 1: Apr 02 â€“ Apr 15`
*   **Start date:** `2025-04-02`
*   **End date:** `2025-04-05`
*   **MoSCoW:** `Must have`
*   **User Value:** `5`
*   **Dependencies:** `Blocked by #12`
*   **Objective:** `AnvÃ¤ndare kan ange och spara fÃ¶delsedata.`
*   **Team:** `Frontend`
*   **Release version:** `R1`

### Avslutande Kommentar ğŸ‘‹

AnvÃ¤nd detta som en levande guide. Var konsekventa, men anpassa efter behov fÃ¶r att skapa en tydlig och effektiv arbetsmiljÃ¶. Lycka till! ğŸš€